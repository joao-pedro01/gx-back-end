datasource db {
  provider = "mysql"
  url = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Categoria {
  id       Int     @id @default(autoincrement())
  nome     String  @unique
  tipo     String?
  isActive Boolean @default(true)
  marcaCat String?
  atrib1Cat String?
  atrib2Cat String?
  atrib3Cat String?
  atrib4Cat String?
  modeloCat String?
  atrib5Cat String?
  atrib6Cat String?
  specs    Especificacao[]
}

model Especificacao {
  id          Int      @id @default(autoincrement())
  saldo       Int?
  isActive    Boolean  @default(true)
  marca       String
  modelo      String
  atrib1      String
  atrib2      String
  atrib3      String
  atrib4      String
  atrib5      String
  atrib6      String
  sku         String?
  categoria   Categoria @relation(fields: [fkCategoriasId], references: [id])
  fkCategoriasId Int
}

model Movimento {
  id           Int       @id @default(autoincrement())
  idUsuario    Int
  idPeca       Int?
  idEquipamento Int?
  tipo         String
  valor        String
  data         DateTime @default(now())
  usuario      Usuario  @relation(fields: [idUsuario], references: [id])
  peca         Peca?    @relation(fields: [idPeca], references: [id])
  equipamento  Equipamento? @relation(fields: [idEquipamento], references: [id])
}

model Usuario {
  id       Int      @id @default(autoincrement())
  nome     String
  senha    String
  criado   DateTime
  alterado DateTime?
  isActive Boolean  @default(true)
  movimentos Movimento[]
}

model Peca {
  id        Int      @id @default(autoincrement())
  nome      String
  modelo    String?
  marca     String?
  atrib1    String?
  atrib2    String?
  atrib3    String?
  atrib4    String?
  atrib5    String?
  atrib6    String?
  sku       String?
  isActive  Boolean  @default(true)
  movimentos Movimento[]
}

model Equipamento {
  id        Int      @id @default(autoincrement())
  nome      String
  modelo    String?
  marca     String?
  atrib1    String?
  atrib2    String?
  atrib3    String?
  atrib4    String?
  atrib5    String?
  atrib6    String?
  sku       String?
  isActive  Boolean  @default(true)
  movimentos Movimento[]
}
